// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// User table with manually managed unique IDs
model User {
  id       Int    @id // Manually managed ID, you need to ensure uniqueness in your application logic
  name     String @unique // Username must be unique
  password String

  // Relation fields
  photos Photo[] // One user can have multiple photos
  posts  Post[] // One user can have multiple posts
}

// Photo table to store photo paths
model Photo {
  id     Int    @id @default(autoincrement()) // Unique ID for each photo
  path   String // Field to store the photo path
  userId Int // Foreign key to associate the photo with a user

  // Define the relationship with the User model
  user User @relation(fields: [userId], references: [id])
}

// Post table for storing user posts
model Post {
  id      Int    @id @default(autoincrement()) // Unique ID for each post
  title   String // Title of the post
  content String // Content of the post
  userId  Int // Foreign key to associate the post with a user

  // Define the relationship with the User model
  user User @relation(fields: [userId], references: [id])
}
